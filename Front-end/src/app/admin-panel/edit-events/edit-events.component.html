<div class="row">
  <div class="col-sm">
    <nav><a class="btn btn-lg btn-dark active" role="button" aria-pressed="true">Wydarzenia</a></nav>
  </div>
  <div class="col-sm">
    <nav><a routerLink="/edit-teams" class="btn btn-lg btn-dark " role="button" aria-pressed="true">Drużyny</a></nav>
  </div>
  <div class="col-sm">
    <nav><a routerLink="/edit-players" class="btn btn-lg btn-dark " role="button" aria-pressed="true">Zawodnicy</a></nav>
  </div>
  <div class="col-sm">
    <nav><a routerLink="/edit-discipline" class="btn btn-lg btn-dark " role="button" aria-pressed="true">Dyscypliny</a></nav>
  </div>
  <div class="col-sm">
    <nav><a routerLink="/edit-users" class="btn btn-lg btn-dark " role="button" aria-pressed="true">Użytkownicy</a></nav>
  </div>
</div>

<button mat-button class="matBtn" (click)="openUpdateEventDialog(null, 0)">Dodaj nowe wydarzenie</button>

<table class="table-condensed" width="100%">
  <b><label>Filtry:</label></b>
  <tr>
      <th class="notbold" for="FormControlSelectActive">Status:</th>
      <th class="notbold" for="FormControlSelectDiscipline">Dyscyplina:</th>
  </tr>
  <tr>
      <td>
          <select class="form-control" id="FormControlSelectActive" [(ngModel)]="chosenStatus" (change)="updateList(chosenDiscipline, chosenStatus)">
                  <option selected hidden>{{chosenStatus}}</option>
                  <option>Wszystkie</option>
                  <option>Aktywne</option>
                  <option>Zakończone</option>
                  <option>Roztrzygnij</option>
          </select>
      </td>
      <td>
          <select class="form-control" id="FormControlSelectDiscipline" [(ngModel)]="chosenDiscipline" (change)="updateList(chosenDiscipline, chosenStatus)">
                  <option selected hidden>{{chosenDiscipline}}</option>
                  <option>Wszystkie</option>
                  <option *ngFor="let type of types">{{type.discipline}}</option>
          </select>
      </td>
  </tr>
</table>

<table width="100%">
  <tr *ngFor="let event of events">
    <td width="90%">
      <mat-accordion>
        <mat-expansion-panel class="expansionpanel">
          <mat-expansion-panel-header class="right-aligned-header">
            <mat-panel-title>
              <b>{{event.name}}</b>
            </mat-panel-title>
            <mat-panel-description>
              <button mat-icon-button class="editButton" *ngIf="event.winner == null" (click)="openUpdateEventDialog(event, 1)">
                  <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button class="editButton" *ngIf="event.winner != null" disabled>
                  <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button class="editButton" (click)="openDeleteObjectDialog(event, 2)">
                  <mat-icon>delete</mat-icon>
              </button>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <b>Data rozpoczęcia wydarzenia:</b> {{event.beginDate | date: "dd.MM.yyyy"}} <br>
          <b>Data zakończenia wydarzenia:</b> {{event.endDate | date: "dd.MM.yyyy"}} <br>
          <b>Dyscyplina:</b> {{event.type.discipline}} <br>
          <b>Drużyny biorące udział w wydarzeniu:</b>
          <ul>
            <li *ngFor="let member of event.members">{{member.name}}<br></li>
          </ul>
          <b>Wydarzenie jest aktywne: </b>{{event.active}}<br>
          <b>Zwycięzca: </b>{{event.winner}}<br>
          <b>Wynik: </b>{{event.score}}<br>
          <button type="button" class="btn btn-info btn-sm" *ngIf="event.winner != null" (click)="openUserListDialog(event)">Lista zwycięzców</button>
        </mat-expansion-panel>
      </mat-accordion>
    </td>
  </tr>
</table>